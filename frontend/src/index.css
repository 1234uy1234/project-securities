@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  /* Prevent horizontal scroll on mobile */
  * {
    box-sizing: border-box;
  }

  /* Touch-friendly button sizes */
  button, a {
    min-height: 44px;
    min-width: 44px;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* Mobile-first button styles */
  .btn-primary {
    @apply bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }

  .btn-success {
    @apply bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2;
  }

  /* Card styles */
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-6;
  }

  /* Form styles */
  .form-input {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors duration-200;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  /* Navigation styles */
  .nav-link {
    @apply flex items-center space-x-3 px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200;
  }

  .nav-link:not(.active) {
    @apply text-gray-300 hover:text-white hover:bg-gray-700;
  }

  .nav-link.active {
    @apply bg-gray-800 text-white;
  }

  /* Mobile navigation styles */
  .mobile-nav-item {
    @apply flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200;
  }

  .mobile-nav-item.active {
    @apply bg-green-100 text-green-700 border-l-4 border-green-500;
  }

  .mobile-nav-item:not(.active) {
    @apply text-gray-700 hover:bg-gray-100;
  }

  /* Responsive grid */
  .grid-responsive {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6;
  }

  /* Mobile-friendly spacing */
  .mobile-padding {
    @apply p-4 md:p-6 lg:p-8;
  }

  .mobile-margin {
    @apply m-4 md:m-6 lg:m-8;
  }
}

@layer utilities {
  /* Hide scrollbar for mobile */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  /* Safe area support for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* PWA specific styles */
@media (display-mode: standalone) {
  body {
    -webkit-user-select: none;
    user-select: none;
  }
}

/* Camera and Webcam specific styles - using Tailwind classes instead */
/* Mirror effect for selfie camera */
.webcam-mirror {
  transform: scaleX(-1);
}

/* Additional camera styles that might not be covered by Tailwind */
.camera-fallback {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* Ensure camera controls are touch-friendly on mobile */
@media (max-width: 768px) {
  .camera-button {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Mobile-specific styles */
@media (max-width: 768px) {
  .mobile-only {
    display: block;
  }
  
  .desktop-only {
    display: none;
  }
  
  /* Camera controls on mobile - using Tailwind classes instead */
  /* These styles are now handled by Tailwind responsive classes */
}

@media (min-width: 769px) {
  .mobile-only {
    display: none;
  }
  
  .desktop-only {
    display: block;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .dark-mode-auto {
    @apply bg-gray-900 text-white;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .btn-primary {
    @apply border-2 border-current;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
