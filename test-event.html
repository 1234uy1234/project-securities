<!DOCTYPE html>
<html>
<head>
    <title>Test Event</title>
</head>
<body>
    <h1>Test Event checkin-success</h1>
    <button onclick="dispatchEvent()">Dispatch Event</button>
    <div id="log"></div>
    
    <script>
        function log(message) {
            document.getElementById('log').innerHTML += '<div>' + new Date().toISOString() + ': ' + message + '</div>';
        }
        
        // Listen for checkin-success event
        window.addEventListener('checkin-success', function(event) {
            log('âœ… Event received: ' + JSON.stringify(event.detail));
        });
        
        function dispatchEvent() {
            log('ðŸš€ Dispatching event...');
            window.dispatchEvent(new CustomEvent('checkin-success', { 
                detail: { 
                    qrData: 'test-qr',
                    photo: 'YES',
                    timestamp: new Date().toISOString()
                } 
            }));
            log('âœ… Event dispatched');
        }
        
        log('ðŸ“¡ Event listener registered');
    </script>
</body>
</html>
