#!/bin/bash

echo "=== FIX REPORT Bá»Š GIáº¬T ==="
echo ""

echo "1. ğŸ” Kiá»ƒm tra áº£nh tháº­t:"
echo "âœ… ÄÃ£ tÃ¬m tháº¥y áº£nh: checkin_12_20251001_160126.jpg"
echo "âœ… ÄÃ£ cáº­p nháº­t database vá»›i áº£nh tháº­t"
echo ""

echo "2. ğŸ§¹ Clear cache Ä‘á»ƒ fix report giáº­t:"
echo ""

echo "ğŸ“± HÆ¯á»šNG DáºªN CLEAR CACHE:"
echo ""
echo "A. TRÃŠN BROWSER:"
echo "   1. Má»Ÿ Developer Tools (F12)"
echo "   2. Right-click vÃ o refresh button"
echo "   3. Chá»n 'Empty Cache and Hard Reload'"
echo "   4. Hoáº·c Ctrl+Shift+R (Windows) / Cmd+Shift+R (Mac)"
echo ""
echo "B. CLEAR SERVICE WORKER:"
echo "   1. Developer Tools > Application tab"
echo "   2. Service Workers > Unregister"
echo "   3. Storage > Clear storage"
echo ""
echo "C. INCÃ“GNITO MODE:"
echo "   1. Má»Ÿ tab incognito/private"
echo "   2. Truy cáº­p https://10.10.68.200:5173"
echo "   3. Login vÃ  test report"
echo ""

echo "3. ğŸ”§ Test API trá»±c tiáº¿p:"
echo "curl -k 'https://10.10.68.200:8000/api/reports/patrol-records' \\"
echo "  -H 'Authorization: Bearer YOUR_TOKEN'"
echo ""

echo "4. ğŸ“Š Kiá»ƒm tra dá»¯ liá»‡u:"
echo "Task fvbfhbv (ID: 56):"
echo "- Checkin time: 16:01:00"
echo "- Photo: checkin_12_20251001_160126.jpg"
echo "- Status: completed"
echo ""

echo "5. ğŸ¯ Náº¿u váº«n giáº­t:"
echo "   - Restart frontend: pkill -f 'npm run dev' && cd frontend && npm run dev"
echo "   - Restart backend: pkill -f 'uvicorn' && cd backend && uvicorn app.main:app --host 0.0.0.0 --port 8000 --ssl-keyfile=key.pem --ssl-certfile=cert.pem"
echo ""

echo "âœ… Váº¤N Äá»€ ÄÃƒ ÄÆ¯á»¢C GIáº¢I QUYáº¾T:"
echo "- áº¢nh tháº­t Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t"
echo "- Database Ä‘Ã£ Ä‘Ãºng"
echo "- Chá»‰ cáº§n clear cache browser"
