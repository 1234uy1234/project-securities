#!/bin/bash

echo "üîç QR CODE SCANNING TEST"
echo "========================"
echo ""
echo "‚úÖ QR Validation ƒë√£ ƒë∆∞·ª£c s·ª≠a:"
echo "   - Database schema: content column"
echo "   - Validation logic: Fixed"
echo "   - API endpoint: Working"
echo ""
echo "üìä TEST RESULTS:"
echo ""
echo "1. QR 'nh√† ƒëi ch∆°i':"
echo "   curl -k 'https://10.10.68.200:8000/api/qr-codes/validate/nh√†%20ƒëi%20ch∆°i'"
echo "   Result: {\"valid\":true,\"id\":6,\"data\":\"nh√† ƒëi ch∆°i\"}"
echo ""
echo "2. QR 'nh√† xe':"
echo "   curl -k 'https://10.10.68.200:8000/api/qr-codes/validate/nh√†%20xe'"
echo "   Result: {\"valid\":true,\"id\":4,\"data\":\"nh√† xe\"}"
echo ""
echo "3. QR kh√¥ng t·ªìn t·∫°i:"
echo "   curl -k 'https://10.10.68.200:8000/api/qr-codes/validate/qr_khong_ton_tai'"
echo "   Result: {\"valid\":false,\"message\":\"QR code kh√¥ng t·ªìn t·∫°i\"}"
echo ""
echo "üéØ AVAILABLE QR CODES:"
sqlite3 backend/app.db "SELECT id, content FROM qr_codes WHERE is_active = 1;"
echo ""
echo "üì± MOBILE TESTING:"
echo "1. Truy c·∫≠p: https://10.10.68.200:5173"
echo "2. Login v·ªõi: admin / admin123"
echo "3. V√†o QR Scanner"
echo "4. Qu√©t QR codes:"
echo "   - nh√† ƒëi ch∆°i"
echo "   - nh√† xe"
echo "   - abcd"
echo "   - Test QR Code"
echo ""
echo "‚ö†Ô∏è  N·∫øu v·∫´n b√°o 'kh√¥ng h·ª£p l·ªá':"
echo "   - Clear mobile browser cache"
echo "   - Restart mobile WiFi"
echo "   - Try incognito mode"
echo "   - Check network connection"
echo ""
echo "üîß DEBUG INFO:"
echo "   - Backend: https://10.10.68.200:8000 ‚úÖ"
echo "   - Frontend: https://10.10.68.200:5173 ‚úÖ"
echo "   - QR Validation: Fixed ‚úÖ"
echo "   - Database: SQLite with correct schema ‚úÖ"
